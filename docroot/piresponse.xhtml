<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:aui="http://portletfaces.org/alloyfaces/aui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:chat="http://java.sun.com/jsf/composite/chat"
	xmlns:liferay-ui="http://portletfaces.org/liferayfaces/liferay-ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:icecore="http://www.icefaces.org/icefaces/core">

	<link href="#{request.contextPath}/css/rime-portlet.css"
		rel="stylesheet" type="text/css" />
	<link href="#{request.contextPath}/css/main.css" rel="stylesheet"
		type="text/css" />

	<aui:form id="f">
		<aui:layout>

			<ice:panelTabSet id="piTabs" selectedIndex="0" tabPlacement="top" tabChangeListener="#{resourceResponseBacking.processTabChange}">
				<ice:panelTab label="Pending Requests">
					<ice:panelGroup
						rendered="#{resourceResponseBacking.pendingMainVisible}">
						<ui:include src="pendingrequests.xhtml" />
					</ice:panelGroup>
					<ice:panelGroup
						rendered="#{resourceResponseBacking.responseFormVisible}">
						<ui:include src="responseform.xhtml" />
					</ice:panelGroup>
					<ice:panelGroup
						rendered="#{resourceResponseBacking.finalPanelVisible}">
						<h:outputText
							value="Thank you.  An E-mail has been sent to the user." />
						<hr />
						<ice:commandButton id="back" value="Go Back"
							actionListener="#{resourceResponseBacking.cancel}" />
					</ice:panelGroup>
				</ice:panelTab>
				<ice:panelTab label="Current Access">
					<ice:panelGroup rendered="#{studyCurrentBacking.mainPanelVisible}">
						<ui:include src="currentmembers.xhtml" />
					</ice:panelGroup>
					<ice:panelGroup
						rendered="#{studyCurrentBacking.revokePanelVisible}">
						<ui:include src="revokemember.xhtml" />
					</ice:panelGroup>
					<ice:panelGroup rendered="#{studyCurrentBacking.showCurrentDetail}">
						<ui:include src="memberdetail.xhtml" />
					</ice:panelGroup>
					<ice:panelGroup rendered="#{studyCurrentBacking.showConfirmationPanel}">
						<ui:include src="revokeconfirmation.xhtml" />
					</ice:panelGroup>					
				</ice:panelTab>
				<ice:panelTab label="History">
					<ice:panelGroup
						rendered="#{transactionHistoryBacking.showHistoryMain}">
						<ui:include src="transactionhistory.xhtml" />
					</ice:panelGroup>
					<ice:panelGroup
						rendered="#{transactionHistoryBacking.showHistoryDetail}">
						<ui:include src="transactiondetail.xhtml" />
					</ice:panelGroup>
				</ice:panelTab>
			</ice:panelTabSet>

		</aui:layout>
	</aui:form>
</ui:composition>